# CiteBite ê°œë°œ í™˜ê²½ ê°€ì´ë“œ

## 1. Docker ì„¤ì • íŒŒì¼ì€ ì–´ë””ì—?

### í˜„ì¬ ìƒíƒœ: ì„¤ì • íŒŒì¼ ì—†ìŒ (ëª…ë ¹ì–´ë¡œ ì§ì ‘ ì‹¤í–‰)

```bash
# ìš°ë¦¬ê°€ ì‹¤í–‰í•œ ë°©ì‹ (ì„¤ì • íŒŒì¼ ì—†ì´)
docker run -d --name citebite-redis -p 6379:6379 redis:7-alpine
```

### ì„ íƒ: docker-composeë¡œ ê´€ë¦¬ (ì„ íƒì‚¬í•­)

`docker-compose.redis.yml` íŒŒì¼ì´ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```bash
# ì´ê±¸ ì‚¬ìš©í•˜ë©´ ì„¤ì • íŒŒì¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥
docker-compose -f docker-compose.redis.yml up -d
```

**í•˜ì§€ë§Œ ì§€ê¸ˆì€ í•„ìš” ì—†ìŠµë‹ˆë‹¤!** ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ë¯€ë¡œ.

---

## 2. npm vs Docker ì°¨ì´

### npm (Node.js ì‹¤í–‰)

```bash
npm run dev  # Next.js ì›¹ ì„œë²„ ì‹¤í–‰
```

- **ì—­í• :** JavaScript/TypeScript ì½”ë“œë¥¼ ì‹¤í–‰
- **ë¬´ì—‡:** ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ (í”„ë¡ íŠ¸ì—”ë“œ + API)
- **ì–´ë””ì„œ:** ë¡œì»¬ macOSì—ì„œ ì§ì ‘ ì‹¤í–‰
- **ë¹„ìœ :** ì£¼ë°©ì—ì„œ ì§ì ‘ ìš”ë¦¬

### Docker (ì»¨í…Œì´ë„ˆ ì‹¤í–‰)

```bash
docker run ...  # ë…ë¦½ëœ í™˜ê²½ì—ì„œ ì„œë¹„ìŠ¤ ì‹¤í–‰
```

- **ì—­í• :** ì¸í”„ë¼ ì„œë¹„ìŠ¤ë¥¼ ê²©ë¦¬ëœ í™˜ê²½ì—ì„œ ì‹¤í–‰
- **ë¬´ì—‡:** PostgreSQL, Redis ê°™ì€ ë°±ì—”ë“œ ì„œë¹„ìŠ¤
- **ì–´ë””ì„œ:** ê°€ìƒ ì»¨í…Œì´ë„ˆ ì•ˆ
- **ë¹„ìœ :** ë„ì‹œë½ ìš©ê¸° (ë…ë¦½ëœ í™˜ê²½)

---

## 3. CiteBite ì‹¤í–‰ ì‹œ í•„ìš”í•œ ê²ƒë“¤

### ì•„í‚¤í…ì²˜:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         CiteBite ê°œë°œ í™˜ê²½                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  â‘  Supabase (Docker ì•ˆì—ì„œ ì‹¤í–‰)            â”‚
â”‚     â”œâ”€ PostgreSQL (ë°ì´í„°ë² ì´ìŠ¤)            â”‚
â”‚     â”œâ”€ Auth Server (ì¸ì¦)                  â”‚
â”‚     â”œâ”€ Storage (íŒŒì¼ ì €ì¥)                  â”‚
â”‚     â””â”€ Studio (ê´€ë¦¬ UI)                    â”‚
â”‚     ğŸ‘‰ npx supabase start                  â”‚
â”‚                                            â”‚
â”‚  â‘¡ Redis (Docker ì•ˆì—ì„œ ì‹¤í–‰)               â”‚
â”‚     â””â”€ BullMQ Queue (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)       â”‚
â”‚     ğŸ‘‰ docker start citebite-redis         â”‚
â”‚                                            â”‚
â”‚  â‘¢ Next.js (npmìœ¼ë¡œ ì‹¤í–‰)                   â”‚
â”‚     â””â”€ ì›¹ ì„œë²„ + API Routes                â”‚
â”‚     ğŸ‘‰ npm run dev                         â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹¤í–‰ ìˆœì„œ:

**ì˜µì…˜ A: ìë™ ì‹¤í–‰ (ì¶”ì²œ)**

```bash
./scripts/start-dev.sh
# Supabase, Redis, Next.js ëª¨ë‘ ì‹¤í–‰
```

**ì˜µì…˜ B: ìˆ˜ë™ ì‹¤í–‰**

```bash
# 1ë‹¨ê³„: Supabase ì‹œì‘
npx supabase start

# 2ë‹¨ê³„: Redis ì‹œì‘ (ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ë©´ ìŠ¤í‚µ)
docker start citebite-redis

# 3ë‹¨ê³„: Next.js ì‹œì‘
npm run dev
```

---

## 4. ìƒíƒœ í™•ì¸

```bash
./scripts/check-status.sh
```

ì¶œë ¥:

```
ğŸ“¦ Supabase:
   âœ… Running
   ğŸ“ Studio: http://127.0.0.1:54323

ğŸ“¦ Redis:
   âœ… Running
   ğŸ“ localhost:6379

ğŸ“¦ Next.js:
   âœ… Running
   ğŸ“ http://localhost:3000
```

---

## 5. ì¢…ë£Œ

```bash
# ì „ì²´ ì¢…ë£Œ
./scripts/stop-dev.sh

# ë˜ëŠ” ê°œë³„ ì¢…ë£Œ
npx supabase stop      # Supabase ì¢…ë£Œ
docker stop citebite-redis  # Redis ì¢…ë£Œ
# Next.jsëŠ” Ctrl+C
```

---

## 6. ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

### Q: Docker Desktopì„ í•­ìƒ ì¼œë‘¬ì•¼ í•˜ë‚˜ìš”?

**A:** ë„¤, Supabaseì™€ Redisê°€ Dockerë¡œ ì‹¤í–‰ë˜ë¯€ë¡œ Docker Desktopì´ í•„ìš”í•©ë‹ˆë‹¤.

### Q: npm run devë§Œ í•˜ë©´ ì•ˆ ë˜ë‚˜ìš”?

**A:** ì•ˆ ë©ë‹ˆë‹¤. Next.js ì•±ì´ Supabaseì™€ Redisì— ì—°ê²°í•´ì•¼ í•˜ë¯€ë¡œ ëª¨ë‘ ì‹¤í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

### Q: ì¬ë¶€íŒ… í›„ì—ëŠ”?

**A:** Docker Desktop ì‹œì‘ â†’ `./scripts/start-dev.sh` ì‹¤í–‰

### Q: ë°°í¬ ì‹œì—ëŠ”?

**A:**

- Supabase â†’ í´ë¼ìš°ë“œ Supabase ì‚¬ìš©
- Redis â†’ Upstash/Railway ì‚¬ìš©
- Next.js â†’ Vercel ë°°í¬
- ëª¨ë‘ í´ë¼ìš°ë“œë¡œ ì´ë™, ë¡œì»¬ Docker ë¶ˆí•„ìš”

---

## 7. ë¹ ë¥¸ ì°¸ê³ 

| ëª…ë ¹ì–´                      | ì„¤ëª…                    |
| --------------------------- | ----------------------- |
| `./scripts/start-dev.sh`    | ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘        |
| `./scripts/stop-dev.sh`     | ëª¨ë“  ì„œë¹„ìŠ¤ ì¢…ë£Œ        |
| `./scripts/check-status.sh` | ìƒíƒœ í™•ì¸               |
| `npm run dev`               | Next.jsë§Œ ì‹œì‘          |
| `npx supabase status`       | Supabase ìƒíƒœ           |
| `docker ps`                 | ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ í™•ì¸ |

---

## ìš”ì•½

### ì‹¤í–‰ í•„ìš”:

1. âœ… Supabase (Docker) â†’ DB, Auth, Storage
2. âœ… Redis (Docker) â†’ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… í
3. âœ… Next.js (npm) â†’ ì›¹ ì„œë²„

### ì„¤ì • íŒŒì¼:

- **í•„ìš” ì—†ìŒ!** ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ ì¤‘
- ì„ íƒì‚¬í•­: `docker-compose.redis.yml` ì‚¬ìš© ê°€ëŠ¥

### í•˜ë‚˜ì˜ ëª…ë ¹ì–´ë¡œ:

```bash
./scripts/start-dev.sh
```

ë! ğŸ‰
